FROM pdireg/centos_base:latest

LABEL cmake=3.5.2 \
      hdf5=1.10.5

# CMAKE 3.5
RUN wget https://cmake.org/files/v3.5/cmake-3.5.2.tar.gz \
    && tar -xzf /cmake-3.5.2.tar.gz
RUN cd cmake-3.5.2 \
    && ./configure \
    && make -j 2 \
    && make install \
    && rm -rf /cmake-3.5.2.tar.gz /cmake-3.5.2

# HDF5 1.10.5
RUN wget https://support.hdfgroup.org/ftp/HDF5/current/src/hdf5-1.10.5.tar.gz \
    && tar -xzf /hdf5-1.10.5.tar.gz
RUN cd hdf5-1.10.5 \
    && ./configure --enable-parallel --prefix=/usr/local/  \
    && make -j 2 \
    && make install \
    && rm -rf /hdf5-1.10.5.tar.gz /hdf5-1.10.5

