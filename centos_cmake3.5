FROM pdidevel/centos_base:latest

# Install HDF5 that requires CMake 10 in embedded mode + CMake 3.5

RUN yum install -y --setopt=tsflags=nodocs \
    hdf5-openmpi3-devel \
 && yum clean all -y
RUN curl -Lso cmake.tar.gz https://cmake.org/files/v3.5/cmake-3.5.2.tar.gz \
 && tar -xzf cmake.tar.gz \
 && rm cmake.tar.gz \
 && cd cmake* \
 && ./configure \
 && make -j \
 && make install \
 && cd \
 && rm -r cmake*
